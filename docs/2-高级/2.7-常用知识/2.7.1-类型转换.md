# 类型转换

为什么不使用C的强制转换？
C的强制转换表面上看起来功能强大什么都能转，但是转化不够明确，不能进行错误检查，容易出错。



| 类型             | 参数对象类型                                                 | 特点                     |
| ---------------- | ------------------------------------------------------------ | ------------------------ |
| static_cast      | 基本数据类型、子类向父类的安全转换、void*和其他类型指针。    | 向下转化不安全。         |
| const_cast       | 使用const或volatile修饰符的变量。                            | 去掉const属性            |
| dynamic_cast     | 对象的类层次间的向上和向下转化                               | 向下转化安全，有类型检查 |
| reinterpret_cast | 不同类型指针之间、不同类型引用之间、指针和能容纳指针的整数类型 | 什么都能转，但少用。     |



## static_cast
用于基本数据类型之间的转换、子类向父类的安全转换、void*和其他类型指针之间的转换。

比如非const转const，void*转指针等, static_cast能用于多态向上转化，如果向下转能成功但是不安全，结果未知；
## const_cast
用于去除const或volatile属性；

## dynamic_cast

用于动态类型转换。只能用于含有虚函数的类，用于类层次间的向上和向下转化。
因为编译器默认向上转换总是安全的，而向下转换时，dynamic_cast具有类型检查的功能；
dynamic_cast转换失败时，对于指针会返回目标类型的nullptr，对于引用会返回bad_cast异常；

> 向上转换：指的是子类向基类的转换
> 向下转换：指的是基类向子类的转换

## reinterpret_cast

用于不同类型指针之间、不同类型引用之间、指针和能容纳指针的整数类型之间的转换。

几乎什么都可以转，比如将int转指针，可能会出问题，尽量少用；