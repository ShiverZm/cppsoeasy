# 指针和引用的区别

[参考知乎：C++中指针与引用的区别](https://zhuanlan.zhihu.com/p/140966943)

## 1. 两者的定义和性质不同

指针是一个变量，存储的是一个地址，指向内存的一个存储单元；

引用是原变量的一个别名，跟原来的变量实质上是同一个东西，跟原来的变量用的同一块内存。

## 2.指针可以有多级，引用只能是一级

```cpp
int **p; // 合法
int &&a; // 不合法
```

## 3.指针可以在定义的时候不初始化，引用必须在定义的时候初始化

```cpp
int *p; // 合法
int &r; // 不合法
int a = 996;
int &r = a; // 合法
```

## 4.指针可以指向NULL，引用不可以为NULL

```cpp
int *p = NULL; // 合法
int &r = NULL; // 不合法
```

## 5.指针初始化之后可以再改变，引用不可以

```cpp
int a = 996;
int *p = &a; // 初始化, p 是 a 的地址
int &r = a; // 初始化, r 是 a 的引用

int b = 885;
p = &b;	// 合法, p 更改为 b 的地址
r = b; 	// 不合法, r 不可以再变
```

## 6.sizeof 的运算结果不同

指针大小：4字节或8字节，根据程序位数有关；

引用大小：是原对象的大小；

```cpp
int a = 996;
int *p = &a;
int &r = a;

cout << sizeof(p); // 返回 int* 类型的大小
cout << sizeof(r); // 返回 int 类型的大小
```

## 7、自增运算意义不同

指针自增：指针地址偏移一个type单位；

引用自增：原对象的值自增；

```cpp
int a = 996;
int *p = &a;
int &r = a;

p++;//p++之后指向a后面的内存
r++;//r++相当于a++。
```

## 8.指针和引用作为函数参数时，指针需要检查是否为空，引用不需要

```cpp
void fun_p(int *p)
{
    // 需要检查P是否为空
    if (p == NULL) 
    {
        // do something
    }
}

void fun_r(int &r)
{
    // 不需要检查r
    // do something
}
```

